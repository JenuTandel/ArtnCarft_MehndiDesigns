<!-- start: registration -->
<div class="registration d-flex flex-column align-items-center">
  <!-- signup text -->
  <h1 class="text-primary fw-bold signup-text">Sign Up</h1>

  <!-- start: stepper bullets -->
  <div class="steps d-flex justify-content-around w-100 mb-4 position-relative">
    <div
      class="step-bullet d-flex align-items-center justify-content-center rounded-circle border border-3 border-white"
      [ngClass]="step >= 1 ? 'active-step' : 'inactive'"
      (click)="onStepBullet(1)"
    >
      <span>1</span>
    </div>
    <div
      class="step-bullet d-flex align-items-center justify-content-center rounded-circle border border-3 border-white"
      [ngClass]="step >= 2 ? 'active-step' : 'inactive'"
      (click)="onStepBullet(2)"
    >
      <span>2</span>
    </div>
    <div
      class="step-bullet d-flex align-items-center justify-content-center rounded-circle border border-3 border-white"
      [ngClass]="step == 3 ? 'active-step' : 'inactive'"
      (click)="onStepBullet(3)"
    >
      <span>3</span>
    </div>
    <span
      class="active-line-left position-absolute top-50 border-2 border border-white"
      [ngClass]="step == 2 ? 'd-block' : 'd-none'"
    ></span>
    <span
      class="active-line-right position-absolute top-50 border-2 border border-white"
      [ngClass]="step == 3 ? 'd-block' : 'd-none'"
    ></span>
  </div>
  <!-- end: stepper bullets -->
  <div
    class="registration-form-wrapper bg-white rounded-4"
    [formGroup]="registrationForm"
    (ngSubmit)="onRegister()"
  >
    <form class="personal-info">
      <fieldset *ngIf="step == 1">
        <h3 class="text-primary mb-4">Personal Information</h3>
        <input
          type="text"
          class="form-control"
          id="name"
          placeholder="Your Name"
          formControlName="name"
          [ngClass]="{
            'is-invalid':
              registrationForm.controls['name'].invalid &&
              (isSubmitted ||
                registrationForm.controls['name'].touched ||
                registrationForm.controls['name'].dirty),
            'is-valid':
              registrationForm.controls['name'].valid &&
              (isSubmitted ||
                registrationForm.controls['name'].touched ||
                registrationForm.controls['name'].dirty)
          }"
        />
        <div
          *ngIf="
            registrationForm.controls['name'].invalid &&
            (isSubmitted ||
              registrationForm.controls['name'].touched ||
              registrationForm.controls['name'].dirty)
          "
        >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['name'].errors?.['required']"
            >Enter your name</span
          >
        </div>
        <input
          type="password"
          class="form-control mt-4"
          id="password"
          placeholder="Password"
          formControlName="password"
          [ngClass]="{
            'is-invalid':
              registrationForm.controls['password'].invalid &&
              (isSubmitted ||
                registrationForm.controls['password'].touched ||
                registrationForm.controls['password'].dirty),
            'is-valid':
              registrationForm.controls['password'].valid &&
              (isSubmitted ||
                registrationForm.controls['password'].touched ||
                registrationForm.controls['password'].dirty)
          }"
        />
        <div
          *ngIf="
            registrationForm.controls['password'].invalid &&
            (isSubmitted ||
              registrationForm.controls['password'].touched ||
              registrationForm.controls['password'].dirty)
          "
        >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['password'].errors?.['required']"
            >Enter your password</span
          >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['password'].errors?.['pattern']"
            >Password should have 8 characters</span
          >
        </div>
        <input
          type="text"
          class="form-control mt-4"
          id="contactno"
          placeholder="Contact Number"
          formControlName="contactNumber"
          [ngClass]="{
            'is-invalid':
              registrationForm.controls['contactNumber'].invalid &&
              (isSubmitted ||
                registrationForm.controls['contactNumber'].touched ||
                registrationForm.controls['contactNumber'].dirty),
            'is-valid':
              registrationForm.controls['contactNumber'].valid &&
              (isSubmitted ||
                registrationForm.controls['contactNumber'].touched ||
                registrationForm.controls['contactNumber'].dirty)
          }"
        />
        <div
          *ngIf="
            registrationForm.controls['contactNumber'].invalid &&
            (isSubmitted ||
              registrationForm.controls['contactNumber'].touched ||
              registrationForm.controls['contactNumber'].dirty)
          "
        >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['contactNumber'].errors?.['required']"
            >Enter your contact number</span
          >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['contactNumber'].errors?.['pattern']"
            >Enter Valid Contact Number</span
          >
        </div>
        <div class="text-center mt-4">
          <button
            type="button"
            class="btn btn-warning text-white"
            (click)="onNext(1)"
          >
            Next
          </button>
          <p class="mt-3">Already Registered???</p>
          <a class="mt-2 text-danger" routerLink="/login">Click Here</a>
        </div>
      </fieldset>

      <fieldset *ngIf="step == 2">
        <h3 class="text-primary mb-4">Address Details</h3>
        <input
          type="text"
          class="form-control"
          id="address"
          placeholder="Address"
          formControlName="address"
          [ngClass]="{
            'is-invalid':
              registrationForm.controls['address'].invalid &&
              (isSubmitted ||
                registrationForm.controls['address'].touched ||
                registrationForm.controls['address'].dirty),
            'is-valid':
              registrationForm.controls['address'].valid &&
              (isSubmitted ||
                registrationForm.controls['address'].touched ||
                registrationForm.controls['address'].dirty)
          }"
        />
        <div
          *ngIf="
            registrationForm.controls['address'].invalid &&
            (isSubmitted ||
              registrationForm.controls['address'].touched ||
              registrationForm.controls['address'].dirty)
          "
        >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['address'].errors?.['required']"
            >Enter your address</span
          >
        </div>
        <input
          type="text"
          class="form-control mt-5"
          id="city"
          placeholder="City"
          formControlName="city"
          [ngClass]="{
            'is-invalid':
              registrationForm.controls['city'].invalid &&
              (isSubmitted ||
                registrationForm.controls['city'].touched ||
                registrationForm.controls['city'].dirty),
            'is-valid':
              registrationForm.controls['city'].valid &&
              (isSubmitted ||
                registrationForm.controls['city'].touched ||
                registrationForm.controls['city'].dirty)
          }"
        />
        <div
          *ngIf="
            registrationForm.controls['city'].invalid &&
            (isSubmitted ||
              registrationForm.controls['city'].touched ||
              registrationForm.controls['city'].dirty)
          "
        >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['city'].errors?.['required']"
            >Enter your city</span
          >
        </div>
        <input
          type="text"
          class="form-control mt-5"
          id="pincode"
          placeholder="PinCode"
          formControlName="pincode"
          [ngClass]="{
            'is-invalid':
              registrationForm.controls['pincode'].invalid &&
              (isSubmitted ||
                registrationForm.controls['pincode'].touched ||
                registrationForm.controls['pincode'].dirty),
            'is-valid':
              registrationForm.controls['pincode'].valid &&
              (isSubmitted ||
                registrationForm.controls['pincode'].touched ||
                registrationForm.controls['pincode'].dirty)
          }"
        />
        <div
          *ngIf="
            registrationForm.controls['pincode'].invalid &&
            (isSubmitted ||
              registrationForm.controls['pincode'].touched ||
              registrationForm.controls['pincode'].dirty)
          "
        >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['pincode'].errors?.['required']"
            >Enter the pincode</span
          >
          <span
            class="error text-danger"
            *ngIf="registrationForm.controls['pincode'].errors?.['pattern']"
            >Enter valid pincode</span
          >
        </div>
        <div class="button-wrapper text-center mt-5">
          <button
            type="button"
            class="btn btn-warning text-white me-3 opacity-75"
            (click)="onPrevious()"
          >
            Previous
          </button>
          <button
            type="button"
            class="btn btn-warning text-white"
            (click)="onNext(2)"
          >
            Next
          </button>
        </div>
      </fieldset>

      <fieldset *ngIf="step == 3">
        <div class="text-center">
          <button
            type="button"
            class="btn btn-warning text-white me-3 opacity-75"
            (click)="onPrevious()"
          >
            Previous
          </button>
          <button type="submit" class="btn btn-warning text-white">
            Submit
          </button>
        </div>
      </fieldset>
    </form>
  </div>
</div>
<!-- end: registration -->
